<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>PyScript Testes hehehe</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
  <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
  <py-env>
    - numpy
    - matplotlib
    - paths:
      - /fire.py
  </py-env>
</head>

<body>


  <div style="padding: 30px">Formatação de texto</div>
  
  <div style="padding: 30px">
    <input type="text" id="textoFormatar" style="border: 1px solid #4CAF50"/>
    <button id="submit-button" type="submit" pys-onClick="FormatandoTextos">OK</button>
  <div id="texto-output"></div>
  </div>
  
  <py-script>
    from js import console

    def testando(*args, **kwargs):
      texto = Element('test-input').element.value
      console.log(texto)
      Element('test-output').element.innerText = f'Você escreve {texto} e o python repetiu '

    def FormatandoTextos(*args, **kwargs):
      frase = Element('textoFormatar').element.value

      frase = frase.strip().lower()
      pl = frase[0].upper()
      
      result = '\n' + pl + frase[1:] + '.\n'

      console.log(result)
        
      Element('texto-output').element.innerText = result
  </py-script>

  <div id="grafico"></div>
  
  <py-script output="grafico">
    import matplotlib.pyplot as plt
    from fire import x_y_aleatorio

    x,y = x_y_aleatorio(n=1000)

    fig, ax = plt.subplots()
    ax.scatter(x, y)
    fig
  </py-script>
</body>

</html>
